# üéØ –ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø –í–ê–®–ï–ì–û –°–ï–†–í–ï–†–ê

**–í–∞—à–∞ —Å–∏—Ç—É–∞—Ü–∏—è:**
- ‚úÖ Traefik **—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –°–µ—Ç—å `proxy` **—É–∂–µ —Å–æ–∑–¥–∞–Ω–∞**
- ‚úÖ –í–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ **—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å procurement –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**

---

## üöÄ –ü–û–®–ê–ì–û–í–û–ï –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –ù–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ:
cd /opt/docker/compose

# –ï—Å–ª–∏ –ø–∞–ø–∫–∞ procurement –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞:
git clone https://github.com/your-repo/procurement.git procurement
cd procurement
```

**–ò–ª–∏ –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å:**
```bash
cd /opt/docker/compose/procurement
git pull origin main  # –û–±–Ω–æ–≤–∏—Ç—å, –µ—Å–ª–∏ –±—ã–ª –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω —Ä–∞–Ω–µ–µ
```

---

### –®–∞–≥ 2: –ö–æ–ø–∏—Ä—É–µ–º –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
cp .env.production.example .env
```

---

### –®–∞–≥ 3: –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º .env

```bash
nano .env
```

**–ò–∑–º–µ–Ω–∏—Ç–µ –¢–û–õ–¨–ö–û —ç—Ç–∏ 3 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

```env
# ‚úÖ –ò–∑–º–µ–Ω–∏—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É –Ω–∞ –≤–∞—à—É –¥–æ–º–µ–Ω
DOMAIN=procurement.fros-ty.com

# ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–ú–ï–ù–ò–¢–ï –ù–ê –ù–û–í–´–ô –ü–ê–†–û–õ–¨!
DB_PASSWORD=–í–´–ë–ï–†–ò–¢–ï_–ù–û–í–´–ô_–ë–ï–ó–û–ü–ê–°–ù–´–ô_–ü–ê–†–û–õ–¨

# ‚úÖ –í–∞—à email –¥–ª—è Let's Encrypt
SSL_EMAIL=admin@fros-ty.com
```

**–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–º–µ—é—Ç defaults, —Ç—Ä–æ–≥–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.**

---

### –®–∞–≥ 4: –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª

```
Ctrl+X (–∏–ª–∏ Cmd+X)
Y (–¥–∞, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å)
Enter (–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å)
```

---

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å–µ—Ç—å proxy —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

```bash
docker network ls | grep proxy

# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:
# proxy     bridge    local
```

**–ï—Å–ª–∏ –Ω–µ –≤—ã–≤–µ–ª–æ—Å—å - –æ—à–∏–±–∫–∞! Traefik –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.**

---

### –®–∞–≥ 6: –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –æ–±—Ä–∞–∑—ã (–ø–µ—Ä–≤—ã–π —Ä–∞–∑ —ç—Ç–æ –∑–∞–π–º–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç)
docker-compose build

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å
docker-compose ps

# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ 3 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
# - procurement-frontend
# - procurement-backend
# - procurement-db
```

---

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –µ—Å–ª–∏ –≤–∏–¥–∏–º –∫–∞–∫–∏–µ-—Ç–æ —Å–∫—Ä–∏–ø—Ç—ã –≤ –ª–æ–≥–∞—Ö)

```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose logs -f

# –ñ–¥–µ–º, –ø–æ–∫–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞—Å—Ç—Å—è (~10 —Å–µ–∫)
# –ó–∞—Ç–µ–º –≤–∏–¥–∏–º —á—Ç–æ backend –∏ frontend –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å
```

**–ù–∞–∂–º–∏—Ç–µ `Ctrl+C` —á—Ç–æ–±—ã –≤—ã–π—Ç–∏ –∏–∑ –ª–æ–≥–æ–≤**

---

### –®–∞–≥ 8: –ñ–¥–µ–º –≤—ã–¥–∞—á–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (30-60 —Å–µ–∫—É–Ω–¥)

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ Traefik —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
docker logs traefik -f

# –ò—â–µ–º –≤ –ª–æ–≥–∞—Ö —á—Ç–æ-—Ç–æ —Ç–∏–ø–∞:
# "Obtaining ACME certificate"
# "Certificate obtained successfully"

# –ù–∞–∂–º–∏—Ç–µ Ctrl+C –∫–æ–≥–¥–∞ –≥–æ—Ç–æ–≤–æ
```

---

### –®–∞–≥ 9: –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º health endpoints
curl -k https://procurement.fros-ty.com/health
curl -k https://procurement.fros-ty.com/api/health

# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ JSON —Å "status": "ok"
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ JSON - –æ—Ç–ª–∏—á–Ω–æ!**

---

### –®–∞–≥ 10: –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–ü–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ –∞–¥—Ä–µ—Å—É:
```
https://procurement.fros-ty.com/
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Traefik (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)   ‚îÇ
‚îÇ –ü–æ—Ä—Ç—ã 80/443, —Å–µ—Ç—å 'proxy'          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     ‚îÇ           ‚îÇ           ‚îÇ
  Frontend   Backend      Database
  (nginx)   (Express)   (PostgreSQL)
  :80       :3002        :5432
```

**Traefik –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
1. **–ù–∞—Ö–æ–¥–∏—Ç** –≤–∞—à–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —á–µ—Ä–µ–∑ Docker labels
2. **–í—ã–¥–∞–µ—Ç** SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt
3. **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç** —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
4. **–û–±–Ω–æ–≤–ª—è–µ—Ç** —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫

```bash
# –°–º–æ—Ç—Ä–∏–º –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏
docker-compose logs backend
docker-compose logs frontend
docker-compose logs postgres

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º
docker-compose down
docker-compose up -d
```

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–æ

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∫ —Å–µ—Ç–∏ proxy
docker network inspect proxy

# –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å procurement-backend –∏ procurement-frontend
```

### SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –≤—ã–¥–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ Traefik
docker logs traefik | tail -50

# –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å "Certificate obtained" –∏–ª–∏ "Obtaining certificate"

# –ï—Å–ª–∏ –≤–∏–¥–∏–º –æ—à–∏–±–∫–∏ - Traefik –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
```

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ: "Network proxy not found"

```bash
# –≠—Ç–æ –∑–Ω–∞—á–∏—Ç —á—Ç–æ —Å–µ—Ç—å proxy –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ Traefik —Ä–∞–±–æ—Ç–∞–µ—Ç
docker ps | grep traefik

# –ï—Å–ª–∏ –Ω–µ—Ç Traefik - –µ–≥–æ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (—ç—Ç–æ –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ scope)
```

---

## üìã –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π –ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] Traefik —Ä–∞–±–æ—Ç–∞–µ—Ç: `docker ps | grep traefik`
- [ ] –°–µ—Ç—å proxy —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `docker network ls | grep proxy`
- [ ] DNS –≥–æ—Ç–æ–≤: `nslookup procurement.fros-ty.com` (—É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—Å)
- [ ] .env –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω (3 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω: `ls /opt/docker/compose/procurement/`

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

–ï—Å–ª–∏ –≤—Å—ë —Å—Ä–∞–±–æ—Ç–∞–ª–æ, –≤—ã –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:

```bash
$ curl -I https://procurement.fros-ty.com/
HTTP/2 200
server: nginx
cache-control: public, immutable
```

–ò –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Å—Å—ã–ª–∫–µ:
```
https://procurement.fros-ty.com/
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:** `docker-compose logs -f`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç—å:** `docker network inspect proxy`
3. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ:** `docker-compose restart`
4. **–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ:** [TRAEFIK_DEPLOYMENT.md](./TRAEFIK_DEPLOYMENT.md#-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞-–ø—Ä–æ–±–ª–µ–º)

---

**–í—ã –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!** üöÄ
